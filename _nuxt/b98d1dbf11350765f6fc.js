(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{360:function(t,e,r){var content=r(377);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(29).default)("751589f0",content,!0,{sourceMap:!1})},361:function(t,e,r){var content=r(380);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(29).default)("d1443638",content,!0,{sourceMap:!1})},362:function(t,e,r){var content=r(382);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(29).default)("03011526",content,!0,{sourceMap:!1})},363:function(t,e,r){"use strict";r(15),r(16),r(9),r(60);var n=r(24),c=r(25),o=r(26),l=r(12),d=r(4),f=r(77);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(l.a)(t);if(e){var c=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var h=function(t){Object(c.a)(r,t);var e=v(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return r}(f.f);Object(d.__decorate)([Object(f.d)({type:String,required:!0})],h.prototype,"buttonText",void 0);var y=h=Object(d.__decorate)([Object(f.a)({})],h),j=r(20),component=Object(j.a)(y,(function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"button is-info is-outlined"},[this._v(this._s(this.buttonText))])}),[],!1,null,null,null);e.a=component.exports},365:function(t,e,r){var map={"./af":227,"./af.js":227,"./ar":228,"./ar-dz":229,"./ar-dz.js":229,"./ar-kw":230,"./ar-kw.js":230,"./ar-ly":231,"./ar-ly.js":231,"./ar-ma":232,"./ar-ma.js":232,"./ar-sa":233,"./ar-sa.js":233,"./ar-tn":234,"./ar-tn.js":234,"./ar.js":228,"./az":235,"./az.js":235,"./be":236,"./be.js":236,"./bg":237,"./bg.js":237,"./bm":238,"./bm.js":238,"./bn":239,"./bn.js":239,"./bo":240,"./bo.js":240,"./br":241,"./br.js":241,"./bs":242,"./bs.js":242,"./ca":243,"./ca.js":243,"./cs":244,"./cs.js":244,"./cv":245,"./cv.js":245,"./cy":246,"./cy.js":246,"./da":247,"./da.js":247,"./de":248,"./de-at":249,"./de-at.js":249,"./de-ch":250,"./de-ch.js":250,"./de.js":248,"./dv":251,"./dv.js":251,"./el":252,"./el.js":252,"./en-au":253,"./en-au.js":253,"./en-ca":254,"./en-ca.js":254,"./en-gb":255,"./en-gb.js":255,"./en-ie":256,"./en-ie.js":256,"./en-il":257,"./en-il.js":257,"./en-in":258,"./en-in.js":258,"./en-nz":259,"./en-nz.js":259,"./en-sg":260,"./en-sg.js":260,"./eo":261,"./eo.js":261,"./es":262,"./es-do":263,"./es-do.js":263,"./es-us":264,"./es-us.js":264,"./es.js":262,"./et":265,"./et.js":265,"./eu":266,"./eu.js":266,"./fa":267,"./fa.js":267,"./fi":268,"./fi.js":268,"./fil":269,"./fil.js":269,"./fo":270,"./fo.js":270,"./fr":271,"./fr-ca":272,"./fr-ca.js":272,"./fr-ch":273,"./fr-ch.js":273,"./fr.js":271,"./fy":274,"./fy.js":274,"./ga":275,"./ga.js":275,"./gd":276,"./gd.js":276,"./gl":277,"./gl.js":277,"./gom-deva":278,"./gom-deva.js":278,"./gom-latn":279,"./gom-latn.js":279,"./gu":280,"./gu.js":280,"./he":281,"./he.js":281,"./hi":282,"./hi.js":282,"./hr":283,"./hr.js":283,"./hu":284,"./hu.js":284,"./hy-am":285,"./hy-am.js":285,"./id":286,"./id.js":286,"./is":287,"./is.js":287,"./it":288,"./it-ch":289,"./it-ch.js":289,"./it.js":288,"./ja":290,"./ja.js":290,"./jv":291,"./jv.js":291,"./ka":292,"./ka.js":292,"./kk":293,"./kk.js":293,"./km":294,"./km.js":294,"./kn":295,"./kn.js":295,"./ko":296,"./ko.js":296,"./ku":297,"./ku.js":297,"./ky":298,"./ky.js":298,"./lb":299,"./lb.js":299,"./lo":300,"./lo.js":300,"./lt":301,"./lt.js":301,"./lv":302,"./lv.js":302,"./me":303,"./me.js":303,"./mi":304,"./mi.js":304,"./mk":305,"./mk.js":305,"./ml":306,"./ml.js":306,"./mn":307,"./mn.js":307,"./mr":308,"./mr.js":308,"./ms":309,"./ms-my":310,"./ms-my.js":310,"./ms.js":309,"./mt":311,"./mt.js":311,"./my":312,"./my.js":312,"./nb":313,"./nb.js":313,"./ne":314,"./ne.js":314,"./nl":315,"./nl-be":316,"./nl-be.js":316,"./nl.js":315,"./nn":317,"./nn.js":317,"./oc-lnc":318,"./oc-lnc.js":318,"./pa-in":319,"./pa-in.js":319,"./pl":320,"./pl.js":320,"./pt":321,"./pt-br":322,"./pt-br.js":322,"./pt.js":321,"./ro":323,"./ro.js":323,"./ru":324,"./ru.js":324,"./sd":325,"./sd.js":325,"./se":326,"./se.js":326,"./si":327,"./si.js":327,"./sk":328,"./sk.js":328,"./sl":329,"./sl.js":329,"./sq":330,"./sq.js":330,"./sr":331,"./sr-cyrl":332,"./sr-cyrl.js":332,"./sr.js":331,"./ss":333,"./ss.js":333,"./sv":334,"./sv.js":334,"./sw":335,"./sw.js":335,"./ta":336,"./ta.js":336,"./te":337,"./te.js":337,"./tet":338,"./tet.js":338,"./tg":339,"./tg.js":339,"./th":340,"./th.js":340,"./tl-ph":341,"./tl-ph.js":341,"./tlh":342,"./tlh.js":342,"./tr":343,"./tr.js":343,"./tzl":344,"./tzl.js":344,"./tzm":345,"./tzm-latn":346,"./tzm-latn.js":346,"./tzm.js":345,"./ug-cn":347,"./ug-cn.js":347,"./uk":348,"./uk.js":348,"./ur":349,"./ur.js":349,"./uz":350,"./uz-latn":351,"./uz-latn.js":351,"./uz.js":350,"./vi":352,"./vi.js":352,"./x-pseudo":353,"./x-pseudo.js":353,"./yo":354,"./yo.js":354,"./zh-cn":355,"./zh-cn.js":355,"./zh-hk":356,"./zh-hk.js":356,"./zh-mo":357,"./zh-mo.js":357,"./zh-tw":358,"./zh-tw.js":358};function n(t){var e=c(t);return r(e)}function c(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=c,t.exports=n,n.id=365},366:function(t,e,r){var n=r(41),c=r(101),o=r(42),l=r(36),d=r(374);t.exports=function(t,e){var r=1==t,f=2==t,v=3==t,h=4==t,y=6==t,j=5==t||y,m=e||d;return function(e,d,k){for(var O,_,x=o(e),I=c(x),S=n(d,k,3),C=l(I.length),R=0,w=r?m(e,C):f?m(e,0):void 0;C>R;R++)if((j||R in I)&&(_=S(O=I[R],R,x),t))if(r)w[R]=_;else if(_)switch(t){case 3:return!0;case 5:return O;case 6:return R;case 2:w.push(O)}else if(h)return!1;return y?-1:v||h?h:w}}},373:function(t,e,r){"use strict";var n=r(10),c=r(366)(6),o="findIndex",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),n(n.P+n.F*l,"Array",{findIndex:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),r(100)(o)},374:function(t,e,r){var n=r(375);t.exports=function(t,e){return new(n(t))(e)}},375:function(t,e,r){var n=r(13),c=r(149),o=r(6)("species");t.exports=function(t){var e;return c(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!c(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},376:function(t,e,r){"use strict";var n=r(360);r.n(n).a},377:function(t,e,r){(e=r(28)(!1)).push([t.i,"div.content[data-v-569fc3de]{word-wrap:break-word}span.done-title[data-v-569fc3de]{text-decoration:line-through}a.disabled[data-v-569fc3de]{background:grey!important}",""]),t.exports=e},378:function(t,e,r){"use strict";var n=r(10),c=r(366)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),r(100)("find")},379:function(t,e,r){"use strict";var n=r(361);r.n(n).a},380:function(t,e,r){(e=r(28)(!1)).push([t.i,".panel[data-v-4fd27208]{padding-bottom:.5rem}@media screen and (max-width:768px){.panel[data-v-4fd27208]{margin:0 1rem}}.panel-block[data-v-4fd27208]:last-child{border-bottom:1px solid #ededed}",""]),t.exports=e},381:function(t,e,r){"use strict";var n=r(362);r.n(n).a},382:function(t,e,r){(e=r(28)(!1)).push([t.i,"@media screen and (max-width:768px){.box[data-v-3a5c760b]{margin:0 1rem}}",""]),t.exports=e},384:function(t,e,r){"use strict";r.r(e);r(15),r(16),r(9),r(60),r(34);var n=r(5),c=r(24),o=r(27),l=r(25),d=r(26),f=r(12),v=r(4),h=r(77),y=r(226),j=r.n(y),m=(r(35),r(359));r(373);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var O=function(t){Object(l.a)(r,t);var e=k(r);function r(){var t;return Object(c.a)(this,r),(t=e.apply(this,arguments)).isContentShown=!1,t}return Object(o.a)(r,[{key:"showContent",value:function(){this.isContentShown=!0}},{key:"hideContent",value:function(){this.isContentShown=!1}},{key:"clickDone",value:function(){return{cardId:this.cardId,done:this.done}}},{key:"clickRemove",value:function(){return this.cardId}},{key:"contentDisplay",get:function(){return this.isContentShown?"normal":"none"}},{key:"cardContentAdditionalStyle",get:function(){return{display:this.contentDisplay}}}]),r}(h.f);Object(v.__decorate)([Object(h.d)({type:String,required:!0})],O.prototype,"cardId",void 0),Object(v.__decorate)([Object(h.d)({type:String,required:!0})],O.prototype,"title",void 0),Object(v.__decorate)([Object(h.d)({type:String,required:!0})],O.prototype,"detail",void 0),Object(v.__decorate)([Object(h.d)({type:Boolean,required:!0,default:!1})],O.prototype,"done",void 0),Object(v.__decorate)([Object(h.b)()],O.prototype,"clickDone",null),Object(v.__decorate)([Object(h.b)()],O.prototype,"clickRemove",null);var _=O=Object(v.__decorate)([Object(h.a)({})],O),x=(r(376),r(20)),I=Object(x.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("header",{staticClass:"card-header"},[r("p",{staticClass:"card-header-title has-background-light"},[r("span",{class:{"done-title":t.done}},[t._v(t._s(t.title))])]),t._v(" "),r("a",{staticClass:"card-header-icon",attrs:{href:"#","aria-label":"more options"}},[t.isContentShown?r("span",{staticClass:"icon",on:{click:t.hideContent}},[r("fa",{attrs:{icon:"angle-up","area-hidden":"true"}})],1):r("span",{staticClass:"icon",on:{click:t.showContent}},[r("fa",{attrs:{icon:"angle-down","area-hidden":"true"}})],1)])]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isContentShown,expression:"isContentShown"}],staticClass:"card-content"},[r("div",{staticClass:"content"},[t._v("\n      "+t._s(t.detail)+"\n    ")])]),t._v(" "),r("footer",{staticClass:"card-footer"},[r("a",{staticClass:"card-footer-item has-background-primary has-text-white",class:{disabled:t.done},on:{click:t.clickDone}},[r("fa",{directives:[{name:"show",rawName:"v-show",value:t.done,expression:"done"}],attrs:{icon:"check"}}),t._v("\n      Done\n    ")],1),t._v(" "),r("a",{staticClass:"card-footer-item has-background-danger has-text-white",on:{click:t.clickRemove}},[t._v("Remove")])])])}),[],!1,null,"569fc3de",null).exports,S=r(78);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var R=function(t){Object(l.a)(r,t);var e=C(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"clickDone",value:function(t){try{if(!t.cardId)throw new Error("IDが存在しません");var e=S.authStore.userEmail;if(!e)return!1;this.$db.collection("users").doc(e).collection("taskHistories").doc(t.cardId).update({done:!t.done});var r=JSON.parse(JSON.stringify(S.userTaskInfoStore.taskHistories)),n=r.findIndex((function(e){return e.historyId===t.cardId}));r[n].done=!t.done,S.userTaskInfoStore.updateTaskHistories(r)}catch(t){alert(t.message)}}},{key:"clickRemove",value:function(t){try{if(!t)throw new Error("IDが存在しません");this.$db.collection("taskHistories").doc(t).delete();var e=JSON.parse(JSON.stringify(S.userTaskInfoStore.taskHistories));S.userTaskInfoStore.updateTaskHistories(e.filter((function(e){return e.historyId!==t})))}catch(t){alert(t.message)}}},{key:"taskCards",get:function(){var t=Object(m.a)(Array(3).keys()).map((function(t){var e=t+1;return{cardId:"",categoryCode:NaN,title:"title".concat(e),detail:"detail".concat(e),done:!1}})),e=j()().startOf("day");return S.userTaskInfoStore.taskHistories.filter((function(t){return j()(t.date).isSame(e)})).forEach((function(e,r){var n={cardId:e.historyId,title:e.taskName,detail:e.taskDetail,done:e.done};t[r]=n})),t}}]),r}(h.f),w=R=Object(v.__decorate)([Object(h.a)({components:{Card:I}})],R),D=Object(x.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"columns is-mobile is-multiline is-centered"},t._l(t.taskCards,(function(e,n){return r("div",{key:n,staticClass:"column is-11"},[r("card",{attrs:{cardId:e.cardId,title:e.title,detail:e.detail||"",done:e.done},on:{"click-done":t.clickDone,"click-remove":t.clickRemove}})],1)})),0)}),[],!1,null,null,null).exports;function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var T=function(t){Object(l.a)(r,t);var e=N(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return r}(h.f);Object(v.__decorate)([Object(h.d)({type:String,required:!0})],T.prototype,"buttonText",void 0);var E=T=Object(v.__decorate)([Object(h.a)({})],T),M=Object(x.a)(E,(function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"button is-info"},[this._v(this._s(this.buttonText))])}),[],!1,null,null,null).exports;function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var A=function(t){Object(l.a)(r,t);var e=z(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"openSelectModal",value:function(){}},{key:"openEditModal",value:function(){}}]),r}(h.f);Object(v.__decorate)([Object(h.b)()],A.prototype,"openSelectModal",null),Object(v.__decorate)([Object(h.b)()],A.prototype,"openEditModal",null);var P=A=Object(v.__decorate)([Object(h.a)({components:{InfoButton:M}})],A),$=Object(x.a)(P,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns is-mobile is-centered"},[e("div",{staticClass:"column is-half"},[e("a",{staticClass:"button is-info",on:{click:this.openSelectModal}},[this._v("\n      今日のタスク選択\n    ")])]),this._v(" "),e("div",{staticClass:"column is-half"},[e("a",{staticClass:"button is-info",on:{click:this.openEditModal}},[this._v("\n      タスク新規登録\n    ")])])])}),[],!1,null,null,null).exports;function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var H=function(t){Object(l.a)(r,t);var e=J(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"close",value:function(){this.syncedIsActive=!1}},{key:"modalAdditionalClass",get:function(){return{"is-active":this.syncedIsActive}}}]),r}(h.f);Object(v.__decorate)([Object(h.e)("isActive",{type:Boolean,required:!0,default:!1})],H.prototype,"syncedIsActive",void 0);var W=H=Object(v.__decorate)([Object(h.a)({})],H),V=Object(x.a)(W,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal",class:this.modalAdditionalClass},[e("div",{staticClass:"modal-background",on:{click:this.close}}),this._v(" "),e("div",{staticClass:"modal-content"},[this._t("default")],2),this._v(" "),e("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:this.close}})])}),[],!1,null,null,null).exports;r(378),r(62),r(80);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var L=function(t){Object(l.a)(r,t);var e=B(r);function r(){var t;return Object(c.a)(this,r),(t=e.apply(this,arguments)).searchWord="",t.selectedcategoryId="all",t}return Object(o.a)(r,[{key:"selectCategory",value:function(t){this.selectedcategoryId=t}},{key:"selectItem",value:function(t,e){return{categoryId:t,itemId:e}}},{key:"filteredItems",get:function(){var t=this;return("all"===this.selectedcategoryId?this.items:this.items.filter((function(e){return e.categoryId===t.selectedcategoryId}))).filter((function(e){return e.itemName.includes(t.searchWord)}))}},{key:"categoriesWithAll",get:function(){var t=Object(m.a)(this.categories);return t.sort((function(t,e){return t.categoryCode-e.categoryCode})).unshift({categoryId:"all",categoryName:"全て",categoryCode:0}),t}}]),r}(h.f);Object(v.__decorate)([Object(h.d)({type:String,required:!0})],L.prototype,"title",void 0),Object(v.__decorate)([Object(h.d)({type:Array,required:!0})],L.prototype,"categories",void 0),Object(v.__decorate)([Object(h.d)({type:Array,required:!0})],L.prototype,"items",void 0),Object(v.__decorate)([Object(h.b)()],L.prototype,"selectItem",null);var F=L=Object(v.__decorate)([Object(h.a)({})],L),U=(r(379),Object(x.a)(F,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"panel is-info"},[r("p",{staticClass:"panel-heading"},[t._v(t._s(t.title))]),t._v(" "),r("p",{staticClass:"panel-tabs"},t._l(t.categoriesWithAll,(function(e,n){return r("a",{key:n,class:{"is-active":t.selectedcategoryId===e.categoryId},on:{click:function(r){return t.selectCategory(e.categoryId)}}},[t._v("\n      "+t._s(e.categoryName)+"\n    ")])})),0),t._v(" "),r("div",{staticClass:"panel-block"},[r("p",{staticClass:"control has-icons-left"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWord,expression:"searchWord"}],staticClass:"input is-info",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchWord},on:{input:function(e){e.target.composing||(t.searchWord=e.target.value)}}}),t._v(" "),r("span",{staticClass:"icon is-left"},[r("fa",{attrs:{icon:"search","aria-hidden":"true"}})],1)])]),t._v(" "),t._l(t.filteredItems,(function(e,n){return r("a",{key:n,staticClass:"panel-block",on:{click:function(r){return t.selectItem(e.categoryId,e.itemId)}}},[r("span",{staticClass:"panel-icon"},[r("fa",{attrs:{icon:"tasks","aria-hidden":"true"}})],1),t._v("\n    "+t._s(e.itemName)+"\n  ")])}))],2)}),[],!1,null,"4fd27208",null).exports);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var K=function(t){Object(l.a)(d,t);var e,r=G(d);function d(){return Object(c.a)(this,d),r.apply(this,arguments)}return Object(o.a)(d,[{key:"saveTaskHistory",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(data){var e,r,n,c,o,l,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=S.userTaskInfoStore.tasks.find((function(t){return t.taskId===data.itemId})),r=S.userTaskInfoStore.categories.find((function(t){return t.categoryId===data.categoryId})),e&&r){t.next=4;break}return t.abrupt("return","タスク情報が不正です");case 4:if(n=j()().startOf("day"),!S.userTaskInfoStore.taskHistories.find((function(t){return t.taskId===e.taskId&&j()(t.date).isSame(n)}))){t.next=9;break}return alert("指定のタスクはすでに追加されています"),t.abrupt("return");case 9:if(!(S.userTaskInfoStore.taskHistories.filter((function(t){return j()(t.date).isSame(n)})).length>=3)){t.next=13;break}return alert("今日のタスク登録可能数を超えています"),t.abrupt("return");case 13:if(t.prev=13,c=S.authStore.userEmail){t.next=17;break}throw new Error("認証エラー");case 17:return o={categoryName:r.categoryName,taskId:e.taskId,taskName:e.taskName,taskDetail:e.taskDetail,done:!1,date:n.toDate()},t.next=20,this.$db.collection("users").doc(c).collection("taskHistories").add(o);case 20:l=t.sent,d={historyId:l.id,categoryName:o.categoryName,taskId:o.taskId,taskName:o.taskName,taskDetail:o.taskDetail,done:o.done,date:o.date},(f=JSON.parse(JSON.stringify(S.userTaskInfoStore.taskHistories))).push(d),S.userTaskInfoStore.updateTaskHistories(f),t.next=30;break;case 27:t.prev=27,t.t0=t.catch(13),console.log(t.t0.message);case 30:case"end":return t.stop()}}),t,this,[[13,27]])}))),function(t){return e.apply(this,arguments)})},{key:"panelCategories",get:function(){return S.userTaskInfoStore.categories}},{key:"panelItems",get:function(){return S.selectTaskModalStore.panelItems}}]),d}(h.f);Object(v.__decorate)([Object(h.e)("isSelectModalOpen",{type:Boolean,required:!0,default:!1})],K.prototype,"syncedIsSelectModalOpen",void 0);var Q=K=Object(v.__decorate)([Object(h.a)({components:{ModalWrapper:V,Panel:U}})],K),X=Object(x.a)(Q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("modal-wrapper",{attrs:{"is-active":t.syncedIsSelectModalOpen},on:{"update:isActive":function(e){t.syncedIsSelectModalOpen=e},"update:is-active":function(e){t.syncedIsSelectModalOpen=e}}},[r("panel",{staticClass:"has-background-white",attrs:{title:"タスク候補",categories:t.panelCategories,items:t.panelItems},on:{"select-item":t.saveTaskHistory}})],1)}),[],!1,null,null,null).exports;function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var Z=function(t){Object(l.a)(r,t);var e=Y(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return r}(h.f);Object(v.__decorate)([Object(h.e)("value",{type:String,required:!0})],Z.prototype,"syncedValue",void 0),Object(v.__decorate)([Object(h.d)({type:String,required:!0})],Z.prototype,"labelText",void 0);var tt=Z=Object(v.__decorate)([Object(h.a)({})],Z),et=Object(x.a)(tt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[t._v(t._s(t.labelText))]),t._v(" "),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.syncedValue,expression:"syncedValue"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g. training",required:""},domProps:{value:t.syncedValue},on:{input:function(e){e.target.composing||(t.syncedValue=e.target.value)}}})])])}),[],!1,null,null,null).exports;function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var nt=function(t){Object(l.a)(r,t);var e=at(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return r}(h.f);Object(v.__decorate)([Object(h.e)("selectedValue",{type:String,required:!0})],nt.prototype,"syncedSelectedValue",void 0),Object(v.__decorate)([Object(h.d)({type:Array,required:!0})],nt.prototype,"options",void 0),Object(v.__decorate)([Object(h.d)({type:String,required:!0})],nt.prototype,"labelText",void 0);var st=nt=Object(v.__decorate)([Object(h.a)({})],nt),ct=Object(x.a)(st,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[t._v(t._s(t.labelText))]),t._v(" "),r("div",{staticClass:"select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.syncedSelectedValue,expression:"syncedSelectedValue"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.syncedSelectedValue=e.target.multiple?r:r[0]}}},t._l(t.options,(function(option,e){return r("option",{key:e,domProps:{value:option.value}},[t._v("\n        "+t._s(option.text)+"\n      ")])})),0)])])}),[],!1,null,null,null).exports;function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var it=function(t){Object(l.a)(r,t);var e=ot(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return r}(h.f);Object(v.__decorate)([Object(h.e)("text",{type:String,required:!0})],it.prototype,"syncedText",void 0),Object(v.__decorate)([Object(h.d)({type:String,required:!0})],it.prototype,"labelText",void 0);var ut=it=Object(v.__decorate)([Object(h.a)({})],it),lt=Object(x.a)(ut,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"field"},[r("label",{staticClass:"label"},[t._v(t._s(t.labelText))]),t._v(" "),r("div",{staticClass:"control"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.syncedText,expression:"syncedText"}],staticClass:"textarea is-small",attrs:{placeholder:"placeholder"},domProps:{value:t.syncedText},on:{input:function(e){e.target.composing||(t.syncedText=e.target.value)}}})])])}),[],!1,null,null,null).exports,ft=r(363);function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var vt=function(t){Object(l.a)(d,t);var e,r=pt(d);function d(){var t;return Object(c.a)(this,d),(t=r.apply(this,arguments)).taskName="",t.taskDetail="",t.selectedCategoryId="",t}return Object(o.a)(d,[{key:"save",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r,n,c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=S.authStore.userEmail){t.next=3;break}return t.abrupt("return",!1);case 3:return r={taskDetail:this.taskDetail,taskName:this.taskName,categoryId:this.selectedCategoryId},t.prev=4,this.validateSaveRequest(r),t.next=8,this.$db.collection("users").doc(e).collection("tasks").add(r);case 8:n=t.sent,c={taskId:n.id,taskName:r.taskName,taskDetail:r.taskDetail,categoryId:r.categoryId},(o=JSON.parse(JSON.stringify(S.userTaskInfoStore.tasks))).push(c),S.userTaskInfoStore.updateTasks(o),this.syncedIsEditModalOpen=!1,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),alert(t.t0.message);case 19:case"end":return t.stop()}}),t,this,[[4,16]])}))),function(){return e.apply(this,arguments)})},{key:"validateSaveRequest",value:function(t){if(!t.taskName)throw new Error("タスク名を入力してください");if(!t.categoryId)throw new Error("カテゴリを入力してください")}},{key:"selectOptions",get:function(){return Object(m.a)(S.userTaskInfoStore.categories).sort((function(t,e){return t.categoryCode-e.categoryCode})).map((function(t){return{text:t.categoryName,value:String(t.categoryId)}}))}}]),d}(h.f);Object(v.__decorate)([Object(h.e)("isEditModalOpen",{type:Boolean,required:!0,default:!1})],vt.prototype,"syncedIsEditModalOpen",void 0),Object(v.__decorate)([Object(h.b)()],vt.prototype,"save",null);var ht=vt=Object(v.__decorate)([Object(h.a)({components:{TextInputWithLabel:et,SelectDropdownWithLabel:ct,TextareaWithLabel:lt,InfoButtonOutlined:ft.a,ModalWrapper:V}})],vt),yt=(r(381),Object(x.a)(ht,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("modal-wrapper",{attrs:{"is-active":t.syncedIsEditModalOpen},on:{"update:isActive":function(e){t.syncedIsEditModalOpen=e},"update:is-active":function(e){t.syncedIsEditModalOpen=e}}},[r("div",{staticClass:"box"},[r("text-input-with-label",{attrs:{"label-text":"タスク名",value:t.taskName},on:{"update:value":function(e){t.taskName=e}}}),t._v(" "),r("select-dropdown-with-label",{attrs:{"selected-value":t.selectedCategoryId,options:t.selectOptions,"label-text":"カテゴリ"},on:{"update:selectedValue":function(e){t.selectedCategoryId=e},"update:selected-value":function(e){t.selectedCategoryId=e}}}),t._v(" "),r("textarea-with-label",{attrs:{"label-text":"タスク詳細",text:t.taskDetail},on:{"update:text":function(e){t.taskDetail=e}}}),t._v(" "),r("div",{staticClass:"field"},[r("info-button-outlined",{attrs:{"button-text":"Save"},nativeOn:{click:function(e){return t.save()}}})],1)],1)])}),[],!1,null,"3a5c760b",null).exports),jt=r(148);function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(f.a)(t);if(e){var c=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var mt=function(t){Object(l.a)(h,t);var e,r,d,f,v=bt(h);function h(){var t;return Object(c.a)(this,h),(t=v.apply(this,arguments)).isSelectModalOpen=!1,t.isEditModalOpen=!1,t.panelItems=[],t}return Object(o.a)(h,[{key:"updateTasks",value:(f=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S.userTaskInfoStore.tasks.length){t.next=8;break}return r=[],t.next=4,this.$db.collection("users").doc(e).collection("tasks").get();case 4:n=t.sent,console.log(n),n.forEach((function(t){var e={categoryId:t.data().categoryId,taskId:t.id,taskName:t.data().taskName,taskDetail:t.data().taskDetail};r.push(e)})),S.userTaskInfoStore.updateTasks(JSON.parse(JSON.stringify(r)));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"updateCategories",value:(d=Object(n.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],S.userTaskInfoStore.categories.length){t.next=7;break}return t.next=4,this.$db.collection("users").doc(e).collection("categories").get();case 4:t.sent.forEach((function(t){var e={categoryId:t.id,categoryCode:t.data().categoryCode,categoryName:t.data().categoryName};r.push(e)})),S.userTaskInfoStore.updateCategories(JSON.parse(JSON.stringify(r)));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"openSelectModal",value:(r=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=S.authStore.userEmail){t.next=4;break}throw new Error("認証情報が不正です");case 4:return t.next=6,this.updateCategories(e);case 6:return t.next=8,this.updateTasks(e);case 8:S.selectTaskModalStore.updatePanelItems.length||(r=S.userTaskInfoStore.tasks.map((function(t){return{categoryId:t.categoryId,itemId:t.taskId,itemName:t.taskName}})),S.selectTaskModalStore.updatePanelItems(JSON.parse(JSON.stringify(r)))),this.isSelectModalOpen=!0,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),alert(t.t0.message);case 15:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(){return r.apply(this,arguments)})},{key:"openEditModal",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=S.authStore.userEmail){t.next=4;break}throw new Error("認証情報が不正です");case 4:return t.next=6,this.updateTasks(e);case 6:return t.next=8,this.updateCategories(e);case 8:this.isEditModalOpen=!0,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0.message);case 14:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(){return e.apply(this,arguments)})},{key:"save",value:function(t){t&&(this.isEditModalOpen=!1)}}]),h}(h.f),kt=mt=Object(v.__decorate)([Object(h.a)({layout:"default",head:{title:"my-pick-three: home"},middleware:[jt.default],components:{TaskCards:D,TaskButtons:$,ModalWrapper:V,SelectTaskModal:X,EditTaskModal:yt},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=(r=S.authStore.userEmail)){e.next=4;break}throw new Error("認証情報が不正です");case 4:return n=j()().startOf("day"),c=j()().endOf("day"),o=[],e.next=9,t.app.$db.collection("users").doc(r).collection("taskHistories").orderBy("date","asc").startAt(n.toDate()).endAt(c.toDate()).get();case 9:e.sent.forEach((function(t){var e={taskId:t.data().taskId,taskName:t.data().taskName,taskDetail:t.data().taskDetail,historyId:t.id,categoryName:t.data().categoryName,date:t.data().date.toDate(),done:t.data().done};o.push(e)})),S.userTaskInfoStore.updateTaskHistories(JSON.parse(JSON.stringify(o))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),window.alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()}})],mt),Ot=Object(x.a)(kt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("task-cards"),t._v(" "),r("task-buttons",{on:{"open-select-modal":t.openSelectModal,"open-edit-modal":t.openEditModal}}),t._v(" "),r("select-task-modal",{attrs:{"is-select-modal-open":t.isSelectModalOpen},on:{"update:isSelectModalOpen":function(e){t.isSelectModalOpen=e},"update:is-select-modal-open":function(e){t.isSelectModalOpen=e}}}),t._v(" "),r("edit-task-modal",{attrs:{"is-edit-modal-open":t.isEditModalOpen},on:{"update:isEditModalOpen":function(e){t.isEditModalOpen=e},"update:is-edit-modal-open":function(e){t.isEditModalOpen=e}}})],1)}),[],!1,null,null,null);e.default=Ot.exports}}]);